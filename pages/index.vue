<script setup lang="ts">
const iframe = ref(null)
const adjustHeight = () => {
  console.log('iframe', iframe.value)
  console.log('contentWindow', iframe.value.contentWindow.document.body.scrollHeight)
  console.log('TEST')

  if(iframe.value) {
    iframe.value.style.height = (iframe.value.contentWindow.document.body.scrollHeight + 256) + 'px';
  }

  onMounted(() => {
    window.addEventListener('message', (event) => {
      console.log('ðŸ¤–message', event)
      console.log(event.origin)
    })

    const _iframe = document.querySelector('iframe')
    console.log(_iframe)
  })
}
</script>

<template>
  <div>
    <iframe ref="iframe" src="https://iframe.rsmsp.dk/iframe" @load="adjustHeight" frameborder="0" height="100%" width="100%" />
  </div>
</template>

<style scoped></style>
